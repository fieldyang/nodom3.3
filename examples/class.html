<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		<title>class</title>
		<link rel="stylesheet" href="./css/nodomui.css" />

		<style>
			.tip {
				color: darkorange;
			}

			.red {
				color: red;
			}

			.bold {
				font-weight: bold;
			}
		</style>
	</head>

	<body>
		<div></div>
	</body>
	<script type="module">
		import { nodom, Module } from "../dist/nodom.js";
		class Main extends Module {
			template() {
				return `
		              <div class='code'>
			        <div class="tip">样式：price>100，字体变红色；discount<0.8，字体加粗</div>
			        <ul>
		                      <li x-repeat={{commodities}} class={{ genClass($index) }}>
		                          {{name}}的价格是{{price}}，折扣是{{discount}}
		                      </li>
			        </ul>
		        </div>
		           `;
			}
			data = {
				a: 1,
				commodities: [
					{
						name: "T恤",
						price: 150,
						discount: 0.9,
						rows: [1, 2],
					},
					{
						name: "短裤",
						price: "80",
						discount: 0.75,
					},
					{
						name: "外套",
						price: 200,
						discount: 0.6,
					},
				],
			};

			genClass($index) {
				let model = this.model.commodities[$index];
				let str = "";
				if (model.price > 100) {
					str += `red `;
				}
				if (model.discount < 0.8) {
					str += `bold `;
				}
				return str;
			}
		}
		nodom(Main, "div");
	</script>
</html>
